<main>
    <section>
        <div id="notice_lifts" style="display: none;">Loading...</div>
        <div id="content_lifts" style="">


<div class="content-container">
    <section class="content-item">
        <h4>Whistler Mountain</h4>
        <div class="status">
            <div class="status-item" data-value="open">
                <p class="openValue">6</p>
                <p class="afterValue">open</p>
            </div>
            <div class="status-item" data-value="standby">
                <p class="standybValue">0</p>
                <p class="afterValue">standby</p>
            </div>       
            <div class="status-item" data-value="closed">
                <p class="closedValue">8</p>
                <p class="afterValue">closed</p>
            </div>        
        </div>        

        <div class="openLifts"><div class="card-lifts"><span class="openLift">Big Red Express</span><span class="waitTime wait-none">0m</span><p class="extra_content">Capacity: 4 max.</p></div><div class="card-lifts"><span class="openLift">Creekside Gondola</span><span class="waitTime wait-regular">1m</span><p class="extra_content">Capacity: 6 max.</p></div><div class="card-lifts"><span class="openLift">Fitzsimmons Express</span><span class="waitTime wait-regular">10m</span><p class="extra_content">Capacity: 4 max.</p></div><div class="card-lifts"><span class="openLift">Garbanzo Express</span><span class="waitTime wait-none">0m</span><p class="extra_content">Capacity: 4 max.</p></div><div class="card-lifts"><span class="openLift">Whistler Village Gondola Lower</span><span class="waitTime wait-warm">15m</span><p class="extra_content">Capacity: 8 max.</p></div><div class="card-lifts"><span class="openLift">Whistler Village Gondola Upper</span><span class="waitTime wait-regular">1m</span><p class="extra_content">Capacity: 8 max.</p></div>
        </div>                
    </section>
    
    <section class="content-item">
        <h4>Blackcomb Mountain</h4>
        <div class="status">
            <div class="status-item" data-value-blackcomb="open">
                <p class="openValue">0</p>
                <p class="afterValue">open</p>
            </div>
            <div class="status-item" data-value-blackcomb="standby">
                <p class="standybValue">0</p>
                <p class="afterValue">standby</p>
            </div>       
            <div class="status-item" data-value-blackcomb="closed">
                <p class="closedValue">13</p>
                <p class="afterValue">closed</p>
            </div>
        </div>        
        
        <div class="openLifts">
        </div>
    </section>
    
    <div id="lift-cams" class="thumbnail-container">
    <ul class="thumbnail-list">
        <li><span><img class="thumbnail-image" src="../wx_img/v1_L.jpg?kS0qF4b75C" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/v2_L.jpg?kS0qF4b75C" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/v3_L.jpg?kS0qF4b75C" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/v4_L.jpg?kS0qF4b75C" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/v5_L.jpg?kS0qF4b75C" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/v6_L.jpg?kS0qF4b75C" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/v7_L.jpg?kS0qF4b75C" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/c1_L.jpg?wo5RY3vxfa" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/u1_L.jpg?rA6LVxDjRe" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/w1_L.jpg?Cxnql6KScE" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/w2_L.jpg?Cxnql6KScE" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/w3_L.jpg?Cxnql6KScE" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/w4_L.jpg?Cxnql6KScE" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/w5_L.jpg?Cxnql6KScE" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/w6_L.jpg?Cxnql6KScE" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/w7_L.jpg?Cxnql6KScE" alt="webcam image"></span></li><li><span><img class="thumbnail-image" src="../wx_img/s1_L.jpg?sx4qZTUDna" alt="webcam image"></span></li>
    </ul>
</div>            

</div>
    

<div id="weather-modal" class="modal">
<img class="modal-content">
</div>

<script>
$(document).ready(function() {

    function updateStandby() {
        $("#content_lifts").hide();
        $("#notice_lifts").show();
        $("#notice_lifts").html("Loading...");
        $.ajax({
            type: "GET",
            // url: "check-lifts.php",
            url: "lifts-standby.php",
            timeout: 20000,
            success: function(data) {
                $("#notice_lifts").hide();
                $("#content_lifts").show();
                $("#content_lifts").html(data);
                window.setTimeout(updateStandby, 900000);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                $("#notice_lifts").html("Timeout contacting server..");
                window.setTimeout(updateStandby, 100000);
            },
        });
    }

    function updateClosed() {
        $("#content_lifts").hide();
        $("#notice_lifts").show();
        $("#notice_lifts").html("Loading...");
        $.ajax({
            type: "GET",
            // url: "check-lifts.php",
            url: "lifts-closed.php",
            timeout: 20000,
            success: function(data) {
                $("#notice_lifts").hide();
                $("#content_lifts").show();
                $("#content_lifts").html(data);
                window.setTimeout(updateClosed, 900000);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                $("#notice_lifts").html("Timeout contacting server..");
                window.setTimeout(updateClosed, 100000);
            },
        });
    }

    function updateOpen() {
        $("#content_lifts").hide();
        $("#notice_lifts").show();
        $("#notice_lifts").html("Loading...");
        $.ajax({
            type: "GET",
            // url: "check-lifts.php",
            url: "lifts-open.php",
            timeout: 20000,
            success: function(data) {
                $("#notice_lifts").hide();
                $("#content_lifts").show();
                $("#content_lifts").html(data);
                window.setTimeout(updateClosed, 900000);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                $("#notice_lifts").html("Timeout contacting server..");
                window.setTimeout(updateClosed, 100000);
            },
        });
    }
    function updateStandbyBlackcomb() {
        $("#content_lifts").hide();
        $("#notice_lifts").show();
        $("#notice_lifts").html("Loading...");
        $.ajax({
            type: "GET",
            url: "lifts-standby-blackcomb.php",
            timeout: 20000,
            success: function(data) {
                $("#notice_lifts").hide();
                $("#content_lifts").show();
                $("#content_lifts").html(data);
                window.setTimeout(updateStandbyBlackcomb, 900000);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                $("#notice_lifts").html("Timeout contacting server..");
                window.setTimeout(updateStandbyBlackcomb, 100000);
            },
        });
    }

    function updateClosedBlackcomb() {
        $("#content_lifts").hide();
        $("#notice_lifts").show();
        $("#notice_lifts").html("Loading...");
        $.ajax({
            type: "GET",
            url: "lifts-closed-blackcomb.php",
            timeout: 20000,
            success: function(data) {
                $("#notice_lifts").hide();
                $("#content_lifts").show();
                $("#content_lifts").html(data);
                window.setTimeout(updateClosedBlackcomb, 900000);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                $("#notice_lifts").html("Timeout contacting server..");
                window.setTimeout(updateClosedBlackcomb, 100000);
            },
        });
    }

    function updateOpenBlackcomb() {
        $("#content_lifts").hide();
        $("#notice_lifts").show();
        $("#notice_lifts").html("Loading...");
        $.ajax({
            type: "GET",
            url: "lifts-open-blackcomb.php",
            timeout: 20000,
            success: function(data) {
                $("#notice_lifts").hide();
                $("#content_lifts").show();
                $("#content_lifts").html(data);
                window.setTimeout(updateClosedBlackcomb, 900000);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                $("#notice_lifts").html("Timeout contacting server..");
                window.setTimeout(updateClosedBlackcomb, 100000);
            },
        });
    }



    $("[data-value='standby']").click(function() {
        updateStandby(); // XML lifts
    });
    $("[data-value='closed']").click(function() {
        updateClosed(); 
    });
    $("[data-value='open']").click(function() {
        updateOpen(); // Live lifts
    });
    $("[data-value-blackcomb='standby']").click(function() {
        updateStandbyBlackcomb(); // XML lifts
    });
    $("[data-value-blackcomb='closed']").click(function() {
        updateClosedBlackcomb(); 
    });
    $("[data-value-blackcomb='open']").click(function() {
        updateOpenBlackcomb(); // Live lifts
    });


    $(".thumbnail-list img").click(function(){
        $("#weather-modal").css("display","grid");
        $(".modal-content").attr("src", this.src);
    }); 

    $(".modal-content, #weather-modal").click(function(){
        $("#weather-modal").css("display","none");
    });            

});
</script></div>
    </section>
</main>